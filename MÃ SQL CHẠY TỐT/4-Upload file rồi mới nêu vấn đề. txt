CODE AUDIT / REVIEW CONTEXT:
T√¥i ƒë√£ upload/paste ƒê·∫¶Y ƒê·ª¶ n·ªôi dung c·ªßa r·∫•t nhi·ªÅu file trong d·ª± √°n (c√≥ th·ªÉ l√† to√†n b·ªô module ho·∫∑c ph·∫ßn l·ªõn codebase). Danh s√°ch file bao g·ªìm c√°c model, controller, route, migration SQL Supabase, Vue/Nuxt components, composables, stores, utils, v.v.

M·ª§C ƒê√çCH KI·ªÇM TRA:
T√¥i mu·ªën b·∫°n th·ª±c hi·ªán m·ªôt cu·ªôc review/code audit chuy√™n s√¢u ƒë·ªÉ ph√°t hi·ªán c√°c v·∫•n ƒë·ªÅ sau (∆∞u ti√™n theo th·ª© t·ª±):

1. Bug ti·ªÅm ·∫©n ho·∫∑c l·ªói logic r√µ r√†ng (v√≠ d·ª•: null reference, sai ƒëi·ªÅu ki·ªán auth, x·ª≠ l√Ω l·ªói upload Supabase kh√¥ng ƒë√∫ng...).
2. L·ªó h·ªïng b·∫£o m·∫≠t nghi√™m tr·ªçng (RLS ch∆∞a b·∫≠t/ch∆∞a ƒë√∫ng policy, bucket public kh√¥ng ki·ªÉm so√°t, Supabase key l·ªô, hardcode secret...).
3. Hardcode d·ªØ li·ªáu ·ªü frontend (label, message, status, options list... thay v√¨ fetch t·ª´ Supabase).
4. Code smell / anti-pattern (code l·∫∑p l·∫°i nhi·ªÅu, component qu√° l·ªõn, logic business n·∫±m ·ªü frontend, query Supabase kh√¥ng optimal...).
5. Thi·∫øu migration SQL ho·∫∑c RLS policy cho c√°c b·∫£ng ƒë√£ d√πng trong code.
6. C√°c v·∫•n ƒë·ªÅ kh√°c: performance, validation y·∫øu, error handling k√©m, naming kh√¥ng nh·∫•t qu√°n...

Y√äU C·∫¶U C·ª§ TH·ªÇ (n·∫øu c√≥):
 


 
EXECUTION RULES - FOLLOW STRICTLY WITH NO EXCEPTIONS:

1. ANALYSIS ONLY - NO CODE CHANGES YET:
   - DO NOT output any modified code, suggested fixes as code blocks, or new files in this step.
   - Only provide detailed analysis, findings, and recommendations in text.
   - If fixes are needed later, I will ask separately.

2. SUPABASE-FOCUSED AUDIT:
   - Check every table referenced in code: verify if RLS is enabled and policies exist (or should exist).
   - Check Storage bucket usage: verify policies for insert/update/delete/select.
   - Detect any direct public bucket access without auth check.
   - Flag any hardcoded table names, bucket names, or policy logic in frontend.

3. COMPREHENSIVE COVERAGE:
   - Review ALL provided files thoroughly.
   - Group findings by severity: Critical (b·∫£o m·∫≠t, bug g√¢y crash), High, Medium, Low (code smell).

4. RESPONSE LANGUAGE RULES - MANDATORY:
   - ALL analysis, findings, explanations, severity assessment, and recommendations MUST BE IN VIETNAMESE ONLY.
   - Use clear, structured Vietnamese with bullet points and tables where appropriate.

5. OUTPUT STRUCTURE (follow exactly - no extra text):

### üîç T·ªîNG QUAN REVIEW
[T√≥m t·∫Øt ng·∫Øn: s·ªë l∆∞·ª£ng v·∫•n ƒë·ªÅ ph√°t hi·ªán, m·ª©c ƒë·ªô nghi√™m tr·ªçng nh·∫•t, khu v·ª±c ·∫£nh h∆∞·ªüng nhi·ªÅu nh·∫•t]

### ‚ö†Ô∏è DANH S√ÅCH V·∫§N ƒê·ªÄ PH√ÅT HI·ªÜN
S·ª≠ d·ª•ng b·∫£ng sau ƒë·ªÉ li·ªát k√™ t·ª´ng v·∫•n ƒë·ªÅ:

| STT | File(s) li√™n quan                  | M·ª©c ƒë·ªô    | M√¥ t·∫£ v·∫•n ƒë·ªÅ chi ti·∫øt                                                                 | H·∫≠u qu·∫£ ti·ªÅm ·∫©n                          | G·ª£i √Ω kh·∫Øc ph·ª•c ng·∫Øn g·ªçn                  |
|-----|------------------------------------|-----------|--------------------------------------------------------------------------------------|------------------------------------------|-------------------------------------------|
| 1   | resources/js/components/X.vue      | Critical  | Hardcode danh s√°ch status trong component, kh√¥ng fetch t·ª´ Supabase                   | D·ªØ li·ªáu kh√¥ng ƒë·ªìng b·ªô khi admin thay ƒë·ªïi | Migrate sang b·∫£ng statuses + RLS + fetch API |
| 2   | composables/useSupabase.js         | High      | Bucket 'avatars' ƒë∆∞·ª£c set public: true m√† kh√¥ng c√≥ policy ki·ªÉm so√°t upload           | Ai c≈©ng upload ƒë∆∞·ª£c v√†o bucket           | T·∫°o storage policy ch·ªâ cho user ƒë√£ auth   |
| ... | ...                                | ...       | ...                                                                                  | ...                                      | ...                                       |

### üõ°Ô∏è SUPABASE SECURITY CHECK SUMMARY
- C√°c b·∫£ng ƒë√£ b·∫≠t RLS: [danh s√°ch]
- C√°c b·∫£ng ch∆∞a b·∫≠t RLS ho·∫∑c thi·∫øu policy: [danh s√°ch + khuy·∫øn ngh·ªã]
- Bucket t·ªìn t·∫°i v√† policy: [t√≥m t·∫Øt]

### üí° KHUY·∫æN NGH·ªä ∆ØU TI√äN
Li·ªát k√™ th·ª© t·ª± c·∫ßn fix tr∆∞·ªõc (1 ‚Üí cao nh·∫•t)

1. ...
2. ...

NEXT ACTION: [H∆∞·ªõng d·∫´n b·∫±ng ti·∫øng Vi·ªát, v√≠ d·ª•: "B·∫°n th·∫•y b√°o c√°o n√†y th·∫ø n√†o? Ch·ªçn v·∫•n ƒë·ªÅ n√†o mu·ªën t√¥i fix tr∆∞·ªõc (theo STT), t√¥i s·∫Ω y√™u c·∫ßu tri·ªÉn khai chi ti·∫øt", ho·∫∑c "N·∫øu mu·ªën t√¥i fix v·∫•n ƒë·ªÅ STT 1 v√† 3, h√£y n√≥i r√µ"]

B·∫ÆT ƒê·∫¶U PH√ÇN T√çCH V√Ä REVIEW TO√ÄN B·ªò FILE NGAY B√ÇY GI·ªú. KH√îNG N√ìI TH√äM L·ªúI TH·ª™A.